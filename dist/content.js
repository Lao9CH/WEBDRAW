(()=>{"use strict";var t={201:(t,n,e)=>{e.d(n,{A:()=>i});var r=e(601),o=e.n(r),s=e(314),a=e.n(s)()(o());a.push([t.id,".web-canvas-container {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 10000;\n}\n\n.web-canvas-toggle {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  background: #4F46E5;\n  border: none;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  transition: transform 0.2s;\n}\n\n.web-canvas-toggle:hover {\n  transform: scale(1.1);\n}\n\n.web-canvas-toggle.active {\n  background: #DC2626;\n}\n\n.web-canvas {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  display: none;\n  pointer-events: all;\n}\n\n.web-canvas-toolbar {\n  position: fixed;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10001;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  padding: 12px;\n  display: flex;\n  gap: 16px;\n  align-items: center;\n}\n\n.tool-group {\n  display: flex;\n  gap: 8px;\n}\n\n.tool-button {\n  width: 40px;\n  height: 40px;\n  border-radius: 6px;\n  border: 1px solid #E5E7EB;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6B7280;\n  transition: all 0.2s;\n}\n\n.tool-button:hover {\n  background: #F3F4F6;\n}\n\n.tool-button.active {\n  background: #EEF2FF;\n  border-color: #4F46E5;\n  color: #4F46E5;\n}\n\n.color-picker {\n  display: flex;\n  gap: 8px;\n}\n\n.color-option {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  border: 2px solid white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s;\n}\n\n.color-option:hover {\n  transform: scale(1.1);\n}\n\n.slider-control {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.slider-control span {\n  font-size: 14px;\n  color: #4B5563;\n  min-width: 48px;\n}\n\n.slider-control input {\n  width: 100px;\n}\n\n.shape-library {\n  position: fixed;\n  top: 50%;\n  right: 20px;\n  transform: translateY(-50%);\n  z-index: 10001;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  padding: 12px;\n}\n\n.shape-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n.shape-item {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  border: 1px solid #E5E7EB;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.shape-item:hover {\n  background: #F3F4F6;\n  border-color: #4F46E5;\n}",""]);const i=a},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);r&&a[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),e&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=e):h[2]=e),o&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=o):h[4]="".concat(o)),n.push(h))}},n}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var s={},a=[],i=0;i<t.length;i++){var l=t[i],c=r.base?l[0]+r.base:l[0],h=s[c]||0,d="".concat(c," ").concat(h);s[c]=h+1;var u=e(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var g=o(p,r);r.byIndex=i,n.splice(i,0,{identifier:d,updater:g,references:1})}a.push(d)}return a}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var s=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var i=e(s[a]);n[i].references--}for(var l=r(t,o),c=0;c<s.length;c++){var h=e(s[c]);0===n[h].references&&(n[h].updater(),n.splice(h,1))}s=l}}},659:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},56:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var s=e.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={id:r,exports:{}};return t[r](s,s.exports,e),s.exports}function r(t,n,e,r=t=>t){return t*r(.5-n*(.5-e))}function o(t,n){return[t[0]+n[0],t[1]+n[1]]}function s(t,n){return[t[0]-n[0],t[1]-n[1]]}function a(t,n){return[t[0]*n,t[1]*n]}function i(t){return[t[1],-t[0]]}function l(t,n){return t[0]*n[0]+t[1]*n[1]}function c(t,n){return t[0]===n[0]&&t[1]===n[1]}function h(t,n){return function(t){return t[0]*t[0]+t[1]*t[1]}(s(t,n))}function d(t){return function(t,n){return[t[0]/n,t[1]/n]}(t,function(t){return Math.hypot(t[0],t[1])}(t))}function u(t,n){return Math.hypot(t[1]-n[1],t[0]-n[0])}function p(t,n,e){let r=Math.sin(e),o=Math.cos(e),s=t[0]-n[0],a=t[1]-n[1],i=s*r+a*o;return[s*o-a*r+n[0],i+n[1]]}function g(t,n,e){return o(t,a(s(n,t),e))}function v(t,n,e){return o(t,a(n,e))}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0;var{min:f,PI:b}=Math,m=b+1e-4;class x{constructor(){this.canvas=null,this.ctx=null,this.isDrawing=!1,this.points=[],this.drawingMode="brush",this.startPoint=null,this.init()}init(){this.createCanvas(),window.addEventListener("resize",(()=>this.resizeCanvas()))}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.className="web-canvas",this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.resizeCanvas()}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx.lineCap="round",this.ctx.lineJoin="round"}startDrawing(t,n){this.isDrawing=!0,this.points=[],this.startPoint={x:t,y:n},this.addPoint(t,n)}draw(t,n,e){this.isDrawing&&("brush"===e.tool||"eraser"===e.tool?this.drawFreehand(t,n,e):this.drawShapePreview(t,n,e))}drawFreehand(t,n,{color:e,size:b,tool:x}){if(this.addPoint(t,n),this.points.length<2)return;const w=function(t,n={}){return function(t,n={}){let{size:e=16,smoothing:c=.5,thinning:u=.5,simulatePressure:b=!0,easing:x=t=>t,start:w={},end:y={},last:M=!1}=n,{cap:E=!0,easing:L=t=>t*(2-t)}=w,{cap:C=!0,easing:T=t=>--t*t*t+1}=y;if(0===t.length||e<=0)return[];let S,k=t[t.length-1].runningLength,z=!1===w.taper?0:!0===w.taper?Math.max(e,k):w.taper,F=!1===y.taper?0:!0===y.taper?Math.max(e,k):y.taper,A=Math.pow(e*c,2),P=[],B=[],D=t.slice(0,10).reduce(((t,n)=>{let r=n.pressure;if(b){let o=f(1,n.distance/e),s=f(1,1-o);r=f(1,t+.275*o*(s-t))}return(t+r)/2}),t[0].pressure),H=r(e,u,t[t.length-1].pressure,x),I=t[0].vector,N=t[0].point,j=N,q=N,O=j,R=!1;for(let n=0;n<t.length;n++){let{pressure:c}=t[n],{point:d,vector:v,distance:w,runningLength:y}=t[n];if(n<t.length-1&&k-y<3)continue;if(u){if(b){let t=f(1,w/e),n=f(1,1-t);c=f(1,D+.275*t*(n-D))}H=r(e,u,c,x)}else H=e/2;void 0===S&&(S=H);let M=y<z?L(y/z):1,E=k-y<F?T((k-y)/F):1;H=Math.max(.01,H*Math.min(M,E));let C=(n<t.length-1?t[n+1]:t[n]).vector,U=n<t.length-1?l(v,C):1,V=null!==U&&U<0;if(l(v,I)<0&&!R||V){let t=a(i(I),H);for(let n=1/13,e=0;e<=1;e+=n)q=p(s(d,t),d,m*e),P.push(q),O=p(o(d,t),d,m*-e),B.push(O);N=q,j=O,V&&(R=!0);continue}if(R=!1,n===t.length-1){let t=a(i(v),H);P.push(s(d,t)),B.push(o(d,t));continue}let X=a(i(g(C,v,U)),H);q=s(d,X),(n<=1||h(N,q)>A)&&(P.push(q),N=q),O=o(d,X),(n<=1||h(j,O)>A)&&(B.push(O),j=O),D=c,I=v}let U=t[0].point.slice(0,2),V=t.length>1?t[t.length-1].point.slice(0,2):o(t[0].point,[1,1]),X=[],Y=[];if(1===t.length){if(!z&&!F||M){let t=v(U,d(i(s(U,V))),-(S||H)),n=[];for(let e=1/13,r=e;r<=1;r+=e)n.push(p(t,U,2*m*r));return n}}else{if(!(z||F&&1===t.length))if(E)for(let t=1/13,n=t;n<=1;n+=t){let t=p(B[0],U,m*n);X.push(t)}else{let t=s(P[0],B[0]),n=a(t,.5),e=a(t,.51);X.push(s(U,n),s(U,e),o(U,e),o(U,n))}let n=i(function(t){return[-t[0],-t[1]]}(t[t.length-1].vector));if(F||z&&1===t.length)Y.push(V);else if(C){let t=v(V,n,H);for(let n=1/29,e=n;e<1;e+=n)Y.push(p(t,V,3*m*e))}else Y.push(o(V,a(n,H)),o(V,a(n,.99*H)),s(V,a(n,.99*H)),s(V,a(n,H)))}return P.concat(Y,B.reverse(),X)}(function(t,n={}){var e;let{streamline:r=.5,size:a=16,last:i=!1}=n;if(0===t.length)return[];let l=.15+.85*(1-r),h=Array.isArray(t[0])?t:t.map((({x:t,y:n,pressure:e=.5})=>[t,n,e]));if(2===h.length){let t=h[1];h=h.slice(0,-1);for(let n=1;n<5;n++)h.push(g(h[0],t,n/4))}1===h.length&&(h=[...h,[...o(h[0],[1,1]),...h[0].slice(2)]]);let p=[{point:[h[0][0],h[0][1]],pressure:h[0][2]>=0?h[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,f=0,b=p[0],m=h.length-1;for(let t=1;t<h.length;t++){let n=i&&t===m?h[t].slice(0,2):g(b.point,h[t],l);if(c(b.point,n))continue;let e=u(n,b.point);if(f+=e,t<m&&!v){if(f<a)continue;v=!0}b={point:n,pressure:h[t][2]>=0?h[t][2]:.5,vector:d(s(b.point,n)),distance:e,runningLength:f},p.push(b)}return p[0].vector=(null==(e=p[1])?void 0:e.vector)||[0,0],p}(t,n),n)}(this.points,{size:b,thinning:.5,smoothing:.5,streamline:.5});this.ctx.fillStyle="eraser"===x?"#fff":e,this.ctx.beginPath();const[y,...M]=w;this.ctx.moveTo(y[0],y[1]),M.forEach((t=>{this.ctx.lineTo(t[0],t[1])})),this.ctx.fill()}drawShapePreview(t,n,e){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.startPoint&&this.shapeManager.drawShape(e.tool,this.startPoint.x,this.startPoint.y,t,n,e)}stopDrawing(){this.isDrawing=!1,this.startPoint=null}addPoint(t,n){this.points.push([t,n,Date.now()])}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}show(){this.canvas.style.display="block"}hide(){this.canvas.style.display="none"}}class w{constructor(t,n){this.canvasManager=t,this.toolManager=n,this.isEnabled=!1}createUI(){this.createToggleButton(),this.createToolbar(),this.createShapeLibrary(),this.setupEventListeners()}createToggleButton(){const t=document.createElement("button");t.className="web-canvas-toggle",t.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n      <path d="M12 19l7-7 3 3-7 7-3-3z"></path>\n      <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>\n      <path d="M2 2l7.586 7.586"></path>\n      <circle cx="11" cy="11" r="2"></circle>\n    </svg>';const n=document.createElement("div");n.className="web-canvas-container",n.appendChild(t),document.body.appendChild(n),this.toggleButton=t}createToolbar(){this.toolbar=document.createElement("div"),this.toolbar.className="web-canvas-toolbar",this.toolbar.style.display="none",this.toolbar.innerHTML=this.getToolbarHTML(),document.body.appendChild(this.toolbar)}getToolbarHTML(){return'\n      <div class="tool-group">\n        <button class="tool-button active" data-tool="brush">\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>\n          </svg>\n        </button>\n        <button class="tool-button" data-tool="eraser">\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M20 20H7L3 16l8-8 8 8-4 4"></path>\n          </svg>\n        </button>\n      </div>\n      \n      <div class="color-picker">\n        <div class="color-option" style="background: #4F46E5" data-color="#4F46E5"></div>\n        <div class="color-option" style="background: #DC2626" data-color="#DC2626"></div>\n        <div class="color-option" style="background: #16A34A" data-color="#16A34A"></div>\n        <div class="color-option" style="background: #000000" data-color="#000000"></div>\n      </div>\n      \n      <div class="slider-control">\n        <span>Size:</span>\n        <input type="range" min="1" max="50" value="5" class="brush-size">\n      </div>\n      \n      <div class="slider-control">\n        <span>Smooth:</span>\n        <input type="range" min="0" max="100" value="50" class="smoothness">\n      </div>\n      \n      <button class="tool-button" data-action="clear">\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M3 6h18"></path>\n          <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>\n          <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>\n        </svg>\n      </button>\n    '}createShapeLibrary(){const t=document.createElement("div");t.className="shape-library",t.style.display="none",t.innerHTML=this.getShapeLibraryHTML(),document.body.appendChild(t),this.shapeLibrary=t}getShapeLibraryHTML(){return`\n      <div class="shape-grid">\n        ${["rectangle","circle","triangle","star","arrow","line"].map((t=>`\n          <div class="shape-item" data-shape="${t}">\n            <svg width="32" height="32" viewBox="0 0 32 32">\n              \x3c!-- Shape SVG paths would go here --\x3e\n            </svg>\n          </div>\n        `)).join("")}\n      </div>\n    `}setupEventListeners(){this.toggleButton.addEventListener("click",(()=>this.toggleDrawingMode())),this.canvasManager.canvas.addEventListener("mousedown",(t=>{this.canvasManager.startDrawing(t.clientX,t.clientY)})),this.canvasManager.canvas.addEventListener("mousemove",(t=>{this.canvasManager.draw(t.clientX,t.clientY,this.toolManager.getToolSettings())})),this.canvasManager.canvas.addEventListener("mouseup",(()=>{this.canvasManager.stopDrawing()})),this.canvasManager.canvas.addEventListener("mouseout",(()=>{this.canvasManager.stopDrawing()})),this.setupToolbarListeners()}setupToolbarListeners(){this.toolbar.addEventListener("click",(t=>{const n=t.target.closest(".tool-button");if(n){const t=n.dataset.tool;t&&(this.toolManager.setCurrentTool(t),this.toolbar.querySelectorAll(".tool-button").forEach((t=>t.classList.toggle("active",t===n)))),"clear"===n.dataset.action&&this.canvasManager.clear()}})),this.toolbar.querySelectorAll(".color-option").forEach((t=>{t.addEventListener("click",(()=>{const n=t.dataset.color;this.toolManager.setColor(n),this.toolbar.querySelectorAll(".color-option").forEach((n=>n.style.border=n===t?"2px solid #4F46E5":"2px solid white"))}))})),this.toolbar.querySelector(".brush-size").addEventListener("input",(t=>{this.toolManager.setBrushSize(parseInt(t.target.value))})),this.toolbar.querySelector(".smoothness").addEventListener("input",(t=>{this.toolManager.setSmoothness(parseInt(t.target.value)/100)}))}toggleDrawingMode(){this.isEnabled=!this.isEnabled,this.isEnabled?(this.canvasManager.show(),this.toolbar.style.display="flex",this.shapeLibrary.style.display="block"):(this.canvasManager.hide(),this.toolbar.style.display="none",this.shapeLibrary.style.display="none"),this.toggleButton.classList.toggle("active")}}class y{constructor(){this.currentTool="brush",this.currentColor="#4F46E5",this.brushSize=5,this.smoothness=.5}setCurrentTool(t){this.currentTool=t}setColor(t){this.currentColor=t}setBrushSize(t){this.brushSize=t}setSmoothness(t){this.smoothness=t}getToolSettings(){return{tool:this.currentTool,color:this.currentColor,size:this.brushSize,smoothness:this.smoothness}}}var M=e(72),E=e.n(M),L=e(825),C=e.n(L),T=e(659),S=e.n(T),k=e(56),z=e.n(k),F=e(540),A=e.n(F),P=e(113),B=e.n(P),D=e(201),H={};H.styleTagTransform=B(),H.setAttributes=z(),H.insert=S().bind(null,"head"),H.domAPI=C(),H.insertStyleElement=A(),E()(D.A,H),D.A&&D.A.locals&&D.A.locals,new class{constructor(){this.canvasManager=new x,this.toolManager=new y,this.uiManager=new w(this.canvasManager,this.toolManager),this.init()}init(){this.uiManager.createUI(),this.setupEventListeners()}setupEventListeners(){document.addEventListener("webcanvas:toolchange",(t=>{this.toolManager.setCurrentTool(t.detail.tool)}))}}})();