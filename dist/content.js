(()=>{"use strict";var n={201:(n,t,e)=>{e.d(t,{A:()=>i});var o=e(601),r=e.n(o),a=e(314),s=e.n(a)()(r());s.push([n.id,'.web-canvas-container {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 10000;\n}\n\n.web-canvas-toggle {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  background: #4F46E5;\n  border: none;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  transition: transform 0.2s;\n}\n\n.web-canvas-toggle:hover {\n  transform: scale(1.1);\n}\n\n.web-canvas-toggle.active {\n  background: #DC2626;\n}\n\n.web-canvas {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  display: none;\n  pointer-events: all;\n}\n\n.web-canvas-toolbar {\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  z-index: 10001;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  padding: 12px;\n  cursor: move;\n  transition: all 0.2s ease;\n  user-select: none;\n  width: 160px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.tool-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.tool-section {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 8px;\n  padding: 8px;\n  border-radius: 8px;\n  background: #f8fafc;\n}\n\n.shape-tools {\n  border-bottom: 1px solid #e2e8f0;\n  background: #f8fafc;\n}\n\n.drawing-tools {\n  grid-template-columns: repeat(3, 1fr);\n  background: #f1f5f9;\n}\n\n.tool-button {\n  width: 28px;\n  height: 28px;\n  padding: 5px;\n  border-radius: 6px;\n  border: 1px solid transparent;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #64748b;\n  transition: all 0.2s;\n}\n\n.tool-button:hover {\n  border-color: #4f46e5;\n  color: #4f46e5;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.tool-button.active {\n  background: #eff6ff;\n  border-color: #4f46e5;\n  color: #4f46e5;\n}\n\n.tool-button svg {\n  width: 16px;\n  height: 16px;\n  transition: transform 0.2s;\n}\n\n.tool-button:hover svg {\n  transform: scale(1.1);\n}\n\n.link-button {\n  background: #4f46e5;\n  color: white;\n}\n\n.link-button:hover {\n  background: #4338ca;\n  border-color: #4338ca;\n  color: white;\n}\n\n.slider-control {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px;\n}\n\n.slider-control span {\n  font-size: 12px;\n  color: #64748b;\n  min-width: 60px;\n}\n\n.slider-control input[type="range"] {\n  flex: 1;\n  height: 4px;\n  background: #e2e8f0;\n  border-radius: 2px;\n  appearance: none;\n}\n\n.slider-control input[type="range"]::-webkit-slider-thumb {\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  background: #4f46e5;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: transform 0.2s;\n}\n\n.slider-control input[type="range"]::-webkit-slider-thumb:hover {\n  transform: scale(1.2);\n}\n\n/* 工具组布局 */\n.tool-group {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.tool-section {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 8px;\n  padding: 8px;\n  border-radius: 8px;\n  background: #f8fafc;\n}\n\n/* 形状工具组 */\n.shape-tools {\n  border-bottom: 1px solid #e2e8f0;\n  background: #f8fafc;\n}\n\n/* 绘图工具组 */\n.drawing-tools {\n  grid-template-columns: repeat(3, 1fr);\n  background: #f1f5f9;\n}\n\n/* 折叠状态的样式 */\n.web-canvas-toolbar.collapsed {\n  width: 48px;\n  height: 48px;\n  padding: 0;\n  border-radius: 50%;\n  background: #4f46e5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transform-origin: center;\n}\n\n.web-canvas-toolbar.collapsed:hover {\n  transform: scale(1.05);\n  box-shadow: 0 6px 16px rgba(79, 70, 229, 0.2);\n}\n\n.web-canvas-toolbar.collapsed .toolbar-content {\n  display: none;\n}\n\n/* 切换按钮样式 */\n.toggle-button {\n  width: 32px;\n  height: 32px;\n  border: none;\n  background: none;\n  padding: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 1;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n\n.web-canvas-toolbar:not(.collapsed) .toggle-button {\n  color: #666;\n  background: #f3f4f6;\n}\n\n.web-canvas-toolbar:not(.collapsed) .toggle-button:hover {\n  color: #000;\n  background: #e5e7eb;\n  transform: scale(1.05);\n}\n\n/* 颜色选择器样式 */\n.color-picker {\n  display: flex;\n  gap: 8px;\n}\n\n.color-option {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  border: 2px solid white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s;\n}\n\n.color-option:hover {\n  transform: scale(1.1);\n}\n\n/* 滑块控制样式 */\n.slider-control {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.slider-control span {\n  font-size: 14px;\n  color: #4B5563;\n  min-width: 48px;\n}\n\n.slider-control input {\n  width: 100px;\n}\n\n/* 形状库样式 */\n.shape-library {\n  position: fixed;\n  top: 50%;\n  right: 20px;\n  transform: translateY(-50%);\n  z-index: 10001;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  padding: 12px;\n}\n\n.shape-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n.shape-item {\n  width: 48px;\n  height: 48px;\n  border-radius: 6px;\n  border: 1px solid #E5E7EB;\n  background: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.shape-item:hover {\n  background: #F3F4F6;\n  border-color: #4F46E5;\n}',""]);const i=s},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",o=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),o&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),o&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<n.length;c++){var h=[].concat(n[c]);o&&s[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),e&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=e):h[2]=e),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),t.push(h))}},t}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var t=[];function e(n){for(var e=-1,o=0;o<t.length;o++)if(t[o].identifier===n){e=o;break}return e}function o(n,o){for(var a={},s=[],i=0;i<n.length;i++){var l=n[i],c=o.base?l[0]+o.base:l[0],h=a[c]||0,d="".concat(c," ").concat(h);a[c]=h+1;var p=e(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var g=r(u,o);o.byIndex=i,t.splice(i,0,{identifier:d,updater:g,references:1})}s.push(d)}return s}function r(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var s=0;s<a.length;s++){var i=e(a[s]);t[i].references--}for(var l=o(n,r),c=0;c<a.length;c++){var h=e(a[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}a=l}}},659:n=>{var t={};n.exports=function(n,e){var o=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var o="";e.supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,r&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},t={};function e(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return n[o](a,a.exports,e),a.exports}function o(n,t,e,o=n=>n){return n*o(.5-t*(.5-e))}function r(n,t){return[n[0]+t[0],n[1]+t[1]]}function a(n,t){return[n[0]-t[0],n[1]-t[1]]}function s(n,t){return[n[0]*t,n[1]*t]}function i(n){return[n[1],-n[0]]}function l(n,t){return n[0]*t[0]+n[1]*t[1]}function c(n,t){return n[0]===t[0]&&n[1]===t[1]}function h(n,t){return function(n){return n[0]*n[0]+n[1]*n[1]}(a(n,t))}function d(n){return function(n,t){return[n[0]/t,n[1]/t]}(n,function(n){return Math.hypot(n[0],n[1])}(n))}function p(n,t){return Math.hypot(n[1]-t[1],n[0]-t[0])}function u(n,t,e){let o=Math.sin(e),r=Math.cos(e),a=n[0]-t[0],s=n[1]-t[1],i=a*o+s*r;return[a*r-s*o+t[0],i+t[1]]}function g(n,t,e){return r(n,s(a(t,n),e))}function v(n,t,e){return r(n,s(t,e))}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0;var{min:f,PI:b}=Math,x=b+1e-4;class m{constructor(){this.canvas=null,this.ctx=null,this.isDrawing=!1,this.points=[],this.drawingMode="brush",this.startPoint=null,this.init()}init(){this.createCanvas(),window.addEventListener("resize",(()=>this.resizeCanvas()))}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.className="web-canvas",this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.resizeCanvas()}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx.lineCap="round",this.ctx.lineJoin="round"}startDrawing(n,t){this.isDrawing=!0,this.points=[],this.startPoint={x:n,y:t},this.addPoint(n,t)}draw(n,t,e){this.isDrawing&&("brush"===e.tool||"eraser"===e.tool?this.drawFreehand(n,t,e):this.drawShapePreview(n,t,e))}drawFreehand(n,t,{color:e,size:b,tool:m}){if(this.addPoint(n,t),this.points.length<2)return;const w=function(n,t={}){return function(n,t={}){let{size:e=16,smoothing:c=.5,thinning:p=.5,simulatePressure:b=!0,easing:m=n=>n,start:w={},end:y={},last:M=!1}=t,{cap:L=!0,easing:k=n=>n*(2-n)}=w,{cap:E=!0,easing:C=n=>--n*n*n+1}=y;if(0===n.length||e<=0)return[];let T,S=n[n.length-1].runningLength,z=!1===w.taper?0:!0===w.taper?Math.max(e,S):w.taper,D=!1===y.taper?0:!0===y.taper?Math.max(e,S):y.taper,P=Math.pow(e*c,2),A=[],B=[],H=n.slice(0,10).reduce(((n,t)=>{let o=t.pressure;if(b){let r=f(1,t.distance/e),a=f(1,1-r);o=f(1,n+.275*r*(a-n))}return(n+o)/2}),n[0].pressure),F=o(e,p,n[n.length-1].pressure,m),I=n[0].vector,N=n[0].point,j=N,q=N,Y=j,O=!1;for(let t=0;t<n.length;t++){let{pressure:c}=n[t],{point:d,vector:v,distance:w,runningLength:y}=n[t];if(t<n.length-1&&S-y<3)continue;if(p){if(b){let n=f(1,w/e),t=f(1,1-n);c=f(1,H+.275*n*(t-H))}F=o(e,p,c,m)}else F=e/2;void 0===T&&(T=F);let M=y<z?k(y/z):1,L=S-y<D?C((S-y)/D):1;F=Math.max(.01,F*Math.min(M,L));let E=(t<n.length-1?n[t+1]:n[t]).vector,R=t<n.length-1?l(v,E):1,U=null!==R&&R<0;if(l(v,I)<0&&!O||U){let n=s(i(I),F);for(let t=1/13,e=0;e<=1;e+=t)q=u(a(d,n),d,x*e),A.push(q),Y=u(r(d,n),d,x*-e),B.push(Y);N=q,j=Y,U&&(O=!0);continue}if(O=!1,t===n.length-1){let n=s(i(v),F);A.push(a(d,n)),B.push(r(d,n));continue}let X=s(i(g(E,v,R)),F);q=a(d,X),(t<=1||h(N,q)>P)&&(A.push(q),N=q),Y=r(d,X),(t<=1||h(j,Y)>P)&&(B.push(Y),j=Y),H=c,I=v}let R=n[0].point.slice(0,2),U=n.length>1?n[n.length-1].point.slice(0,2):r(n[0].point,[1,1]),X=[],V=[];if(1===n.length){if(!z&&!D||M){let n=v(R,d(i(a(R,U))),-(T||F)),t=[];for(let e=1/13,o=e;o<=1;o+=e)t.push(u(n,R,2*x*o));return t}}else{if(!(z||D&&1===n.length))if(L)for(let n=1/13,t=n;t<=1;t+=n){let n=u(B[0],R,x*t);X.push(n)}else{let n=a(A[0],B[0]),t=s(n,.5),e=s(n,.51);X.push(a(R,t),a(R,e),r(R,e),r(R,t))}let t=i(function(n){return[-n[0],-n[1]]}(n[n.length-1].vector));if(D||z&&1===n.length)V.push(U);else if(E){let n=v(U,t,F);for(let t=1/29,e=t;e<1;e+=t)V.push(u(n,U,3*x*e))}else V.push(r(U,s(t,F)),r(U,s(t,.99*F)),a(U,s(t,.99*F)),a(U,s(t,F)))}return A.concat(V,B.reverse(),X)}(function(n,t={}){var e;let{streamline:o=.5,size:s=16,last:i=!1}=t;if(0===n.length)return[];let l=.15+.85*(1-o),h=Array.isArray(n[0])?n:n.map((({x:n,y:t,pressure:e=.5})=>[n,t,e]));if(2===h.length){let n=h[1];h=h.slice(0,-1);for(let t=1;t<5;t++)h.push(g(h[0],n,t/4))}1===h.length&&(h=[...h,[...r(h[0],[1,1]),...h[0].slice(2)]]);let u=[{point:[h[0][0],h[0][1]],pressure:h[0][2]>=0?h[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,f=0,b=u[0],x=h.length-1;for(let n=1;n<h.length;n++){let t=i&&n===x?h[n].slice(0,2):g(b.point,h[n],l);if(c(b.point,t))continue;let e=p(t,b.point);if(f+=e,n<x&&!v){if(f<s)continue;v=!0}b={point:t,pressure:h[n][2]>=0?h[n][2]:.5,vector:d(a(b.point,t)),distance:e,runningLength:f},u.push(b)}return u[0].vector=(null==(e=u[1])?void 0:e.vector)||[0,0],u}(n,t),t)}(this.points,{size:b,thinning:.5,smoothing:.5,streamline:.5});this.ctx.fillStyle="eraser"===m?"#fff":e,this.ctx.beginPath();const[y,...M]=w;this.ctx.moveTo(y[0],y[1]),M.forEach((n=>{this.ctx.lineTo(n[0],n[1])})),this.ctx.fill()}drawShapePreview(n,t,e){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.startPoint&&this.shapeManager.drawShape(e.tool,this.startPoint.x,this.startPoint.y,n,t,e)}stopDrawing(){this.isDrawing=!1,this.startPoint=null}addPoint(n,t){this.points.push([n,t,Date.now()])}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}show(){this.canvas.style.display="block"}hide(){this.canvas.style.display="none"}}class w{constructor(n,t){this.canvasManager=n,this.toolManager=t,this.isEnabled=!1}createUI(){this.createToggleButton(),this.createToolbar(),this.createShapeLibrary(),this.setupEventListeners()}createToggleButton(){const n=document.createElement("button");n.className="web-canvas-toggle",n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n      <path d="M12 19l7-7 3 3-7 7-3-3z"></path>\n      <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>\n      <path d="M2 2l7.586 7.586"></path>\n      <circle cx="11" cy="11" r="2"></circle>\n    </svg>';const t=document.createElement("div");t.className="web-canvas-container",t.appendChild(n),document.body.appendChild(t),this.toggleButton=n}createToolbar(){this.toolbar=document.createElement("div"),this.toolbar.className="web-canvas-toolbar collapsed";const n=document.createElement("button");n.className="toggle-button",n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n      <path d="M12 19l7-7 3 3-7 7-3-3z"></path>\n      <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>\n      <circle cx="11" cy="11" r="2"></circle>\n    </svg>';const t=document.createElement("div");t.className="toolbar-content",t.innerHTML=this.getToolbarHTML(),this.toolbar.appendChild(n),this.toolbar.appendChild(t),document.body.appendChild(this.toolbar),this.setupDraggable(this.toolbar);let e=!1;const o=t=>{this.isDragging||(e=!e,this.toolbar.classList.toggle("collapsed",!e),e?(n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M6 18L18 6M6 6l12 12"></path>\n        </svg>',n.style.color="#666"):(n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M12 19l7-7 3 3-7 7-3-3z"></path>\n          <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>\n          <circle cx="11" cy="11" r="2"></circle>\n        </svg>',n.style.color="white"),t.stopPropagation())};n.addEventListener("click",o),this.toolbar.addEventListener("click",(n=>{e||n.target!==this.toolbar||o(n)}))}setupDraggable(n){let t=0,e=0,o=0,r=0;this.isDragging=!1;const a=a=>{a.preventDefault(),a.stopPropagation(),requestAnimationFrame((()=>{const s=a.clientX-t,i=a.clientY-e;(Math.abs(s)>1||Math.abs(i)>1)&&(this.isDragging=!0,n.style.left=o+s+"px",n.style.top=r+i+"px")}))},s=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),setTimeout((()=>{this.isDragging=!1}),10)};n.addEventListener("mousedown",(i=>{0===i.button&&(i.preventDefault(),i.stopPropagation(),t=i.clientX,e=i.clientY,o=n.offsetLeft,r=n.offsetTop,this.isDragging=!1,document.addEventListener("mousemove",a,{passive:!1}),document.addEventListener("mouseup",s))}))}getToolbarHTML(){return'\n      <div class="tool-group">\n        <a href="http://192.168.6.89" target="_blank" class="tool-button link-button" title="访问服务器">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M5 5h14M5 12h14M5 19h14"/>\n            <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>\n          </svg>\n        </a>\n        <button class="tool-button active" data-tool="brush">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M12 19l7-7 3 3-7 7-3-3z"/>\n          </svg>\n        </button>\n        <button class="tool-button" data-tool="eraser">\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M20 20H7L3 16c-1.5-1.5-1.5-3.5 0-5L14 0l7 7-11 11 3 3-1-1h8v-1"/>\n          </svg>\n        </button>\n      </div>\n      \n      <div class="color-picker">\n        <div class="color-option" style="background: #4F46E5" data-color="#4F46E5"></div>\n        <div class="color-option" style="background: #DC2626" data-color="#DC2626"></div>\n        <div class="color-option" style="background: #16A34A" data-color="#16A34A"></div>\n        <div class="color-option" style="background: #000000" data-color="#000000"></div>\n      </div>\n      \n      <div class="slider-control">\n        <span>Size:</span>\n        <input type="range" min="1" max="50" value="5" class="brush-size">\n      </div>\n      \n      <div class="slider-control">\n        <span>Smooth:</span>\n        <input type="range" min="0" max="100" value="50" class="smoothness">\n      </div>\n      \n      <button class="tool-button" data-action="clear">\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M3 6h18"></path>\n          <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>\n          <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>\n        </svg>\n      </button>\n    '}createShapeLibrary(){const n=document.createElement("div");n.className="shape-library",n.style.display="none",n.innerHTML=this.getShapeLibraryHTML(),document.body.appendChild(n),this.shapeLibrary=n}getShapeLibraryHTML(){return`\n      <div class="shape-grid">\n        ${["rectangle","circle","triangle","star","arrow","line"].map((n=>`\n          <div class="shape-item" data-shape="${n}">\n            <svg width="32" height="32" viewBox="0 0 32 32">\n              \x3c!-- Shape SVG paths would go here --\x3e\n            </svg>\n          </div>\n        `)).join("")}\n      </div>\n    `}setupEventListeners(){this.toggleButton.addEventListener("click",(()=>this.toggleDrawingMode())),this.canvasManager.canvas.addEventListener("mousedown",(n=>{this.canvasManager.startDrawing(n.clientX,n.clientY)})),this.canvasManager.canvas.addEventListener("mousemove",(n=>{this.canvasManager.draw(n.clientX,n.clientY,this.toolManager.getToolSettings())})),this.canvasManager.canvas.addEventListener("mouseup",(()=>{this.canvasManager.stopDrawing()})),this.canvasManager.canvas.addEventListener("mouseout",(()=>{this.canvasManager.stopDrawing()})),this.setupToolbarListeners()}setupToolbarListeners(){this.toolbar.addEventListener("click",(n=>{const t=n.target.closest(".tool-button");if(t){const n=t.dataset.tool;n&&(this.toolManager.setCurrentTool(n),this.toolbar.querySelectorAll(".tool-button").forEach((n=>n.classList.toggle("active",n===t)))),"clear"===t.dataset.action&&this.canvasManager.clear()}})),this.toolbar.querySelectorAll(".color-option").forEach((n=>{n.addEventListener("click",(()=>{const t=n.dataset.color;this.toolManager.setColor(t),this.toolbar.querySelectorAll(".color-option").forEach((t=>t.style.border=t===n?"2px solid #4F46E5":"2px solid white"))}))})),this.toolbar.querySelector(".brush-size").addEventListener("input",(n=>{this.toolManager.setBrushSize(parseInt(n.target.value))})),this.toolbar.querySelector(".smoothness").addEventListener("input",(n=>{this.toolManager.setSmoothness(parseInt(n.target.value)/100)}))}toggleDrawingMode(){this.isEnabled=!this.isEnabled,this.isEnabled?(this.canvasManager.show(),this.toolbar.style.display="flex",this.shapeLibrary.style.display="block"):(this.canvasManager.hide(),this.toolbar.style.display="none",this.shapeLibrary.style.display="none"),this.toggleButton.classList.toggle("active")}}class y{constructor(){this.currentTool="brush",this.currentColor="#4F46E5",this.brushSize=5,this.smoothness=.5}setCurrentTool(n){this.currentTool=n}setColor(n){this.currentColor=n}setBrushSize(n){this.brushSize=n}setSmoothness(n){this.smoothness=n}getToolSettings(){return{tool:this.currentTool,color:this.currentColor,size:this.brushSize,smoothness:this.smoothness}}}var M=e(72),L=e.n(M),k=e(825),E=e.n(k),C=e(659),T=e.n(C),S=e(56),z=e.n(S),D=e(540),P=e.n(D),A=e(113),B=e.n(A),H=e(201),F={};F.styleTagTransform=B(),F.setAttributes=z(),F.insert=T().bind(null,"head"),F.domAPI=E(),F.insertStyleElement=P(),L()(H.A,F),H.A&&H.A.locals&&H.A.locals,new class{constructor(){this.canvasManager=new m,this.toolManager=new y,this.uiManager=new w(this.canvasManager,this.toolManager),this.init()}init(){this.uiManager.createUI(),this.setupEventListeners()}setupEventListeners(){document.addEventListener("webcanvas:toolchange",(n=>{this.toolManager.setCurrentTool(n.detail.tool)}))}}})();